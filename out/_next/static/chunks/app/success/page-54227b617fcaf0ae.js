(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{2596:function(e,s,t){Promise.resolve().then(t.bind(t,3157))},3157:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(7437),r=t(2265),n=t(9376),i=t(1817),d=t(2660),c=t(9205);let l=(0,c.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o=(0,c.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var m=t(8997),u=t(2869);function x(){let e=(0,n.useSearchParams)(),s=(0,n.useRouter)(),[t,c]=(0,r.useState)(null),[x,p]=(0,r.useState)(!0),[h,f]=(0,r.useState)("");if((0,r.useEffect)(()=>{let s=e.get("session_id");if(!s){f("Nenhuma sess\xe3o encontrada"),p(!1);return}(async()=>{try{let e=await fetch("https://baby-shower-stripe.vercel.app/api/confirm?session_id=".concat(s),{method:"GET"});if(!e.ok)throw Error("Falha ao confirmar compra");let t=await e.json();c(t.purchase),p(!1)}catch(e){console.error("Confirm error:",e),f("Erro ao confirmar compra. Por favor, contate o suporte."),p(!1)}})()},[e]),x)return(0,a.jsx)("div",{className:"min-h-screen bg-luxury-gradient flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-display text-premium",children:"Confirmando sua compra..."})]})});if(h||!t)return(0,a.jsx)("div",{className:"min-h-screen bg-luxury-gradient flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-card rounded-3xl p-8 text-center border border-primary/10 bg-boutique-shadow",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-3xl",children:"❌"})}),(0,a.jsx)("h1",{className:"text-2xl font-display text-premium mb-4",children:"Erro"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:h||"Compra n\xe3o encontrada"}),(0,a.jsxs)(u.z,{onClick:()=>s.push("/"),className:"!bg-rose-800 hover:!bg-rose-700 !text-white",style:{backgroundColor:"#9f1239",color:"#ffffff"},children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Voltar para a loja"]})]})});let g=(t.amount_total/100).toFixed(2).replace(".",",");return(0,a.jsx)("div",{className:"min-h-screen bg-luxury-gradient py-20 px-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-float",children:(0,a.jsx)(l,{className:"w-12 h-12 text-green-600"})}),(0,a.jsx)("h1",{className:"text-4xl lg:text-5xl font-display text-premium mb-4",children:"Compra Confirmada!"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground font-body-luxury",children:"Obrigado por contribuir para o ch\xe1 de fraldas da Sophia! \uD83D\uDC96"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-3xl p-8 border border-primary/10 bg-boutique-shadow mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(o,{className:"w-6 h-6 text-primary"}),(0,a.jsx)("h2",{className:"text-2xl font-display text-premium",children:"Detalhes da Compra"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID da Compra:"}),(0,a.jsx)("span",{className:"font-medium text-premium",children:t.purchase_id})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Nome:"}),(0,a.jsx)("span",{className:"font-medium text-premium",children:t.name})]}),t.email&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,a.jsx)("span",{className:"font-medium text-premium",children:t.email})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"M\xe9todo de Pagamento:"}),(0,a.jsx)("span",{className:"font-medium text-premium",children:"pix"===t.payment_method?"\uD83D\uDCB0 PIX":"\uD83D\uDCB3 Cart\xe3o"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsx)("span",{className:"font-medium ".concat("paid"===t.status?"text-green-600":"pending"===t.status?"text-amber-600":"text-red-600"),children:"paid"===t.status?"✓ Pago":"pending"===t.status?"⏳ Pendente":"✕ Cancelado"})]}),t.confirmed_at&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Confirmado em:"}),(0,a.jsx)("span",{className:"font-medium text-premium",children:new Date(t.confirmed_at).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})})]}),t.pix_txid&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID Transa\xe7\xe3o PIX:"}),(0,a.jsx)("span",{className:"font-mono text-sm font-medium text-premium",children:t.pix_txid})]}),(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total Pago:"}),(0,a.jsxs)("span",{className:"text-2xl font-display text-premium",children:["R$ ",g]})]})]}),(0,a.jsxs)("div",{className:"border-t border-primary/10 pt-6",children:[(0,a.jsx)("h3",{className:"font-display text-lg text-premium mb-4",children:"Itens Comprados"}),(0,a.jsx)("div",{className:"space-y-3",children:t.items.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-accent/20 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCE6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-premium",children:e.description}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Qtd: ",e.quantity]})]})]}),(0,a.jsxs)("span",{className:"font-medium text-premium",children:["R$ ",(e.subtotal/100).toFixed(2).replace(".",",")]})]},s))})]}),t.message&&(0,a.jsxs)("div",{className:"border-t border-primary/10 pt-6 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("h3",{className:"font-display text-lg text-premium",children:"Sua Mensagem"})]}),(0,a.jsxs)("p",{className:"text-muted-foreground italic bg-accent/20 p-4 rounded-xl",children:['"',t.message,'"']})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-3xl p-8 border border-primary/10 bg-boutique-shadow mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-display text-premium mb-4",children:"Pr\xf3ximos Passos"}),(0,a.jsxs)("ul",{className:"space-y-3 text-muted-foreground",children:[(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-primary",children:"✓"}),(0,a.jsx)("span",{children:"Os pais da Sophia receber\xe3o sua mensagem e contribui\xe7\xe3o"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-primary",children:"✓"}),(0,a.jsx)("span",{children:"As fraldas ser\xe3o compradas com sua contribui\xe7\xe3o"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-primary",children:"✓"}),(0,a.jsx)("span",{children:"Compare\xe7a ao ch\xe1 de fraldas no dia 25 de Outubro \xe0s 15:30!"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(u.z,{onClick:()=>s.push("/"),className:"!bg-rose-800 hover:!bg-rose-700 !text-white px-8 py-6 text-lg rounded-2xl",style:{backgroundColor:"#9f1239",color:"#ffffff"},children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 mr-2"}),"Voltar para a Loja"]})})]})})}},2869:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var a=t(7437);t(2265);var r=t(7053),n=t(535),i=t(4508);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...l}=e,o=c?r.g7:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:n,className:s})),...l})}},4508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var a=t(1994),r=t(3335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}},2660:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8997:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},1817:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[203,971,117,744],function(){return e(e.s=2596)}),_N_E=e.O()}]);